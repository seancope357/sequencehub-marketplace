# Database
# SQLite for development, PostgreSQL recommended for production
DATABASE_URL="file:./db/dev.db"

# Authentication & Security
# Generate secrets with: openssl rand -hex 32
JWT_SECRET="your-jwt-secret-key-change-in-production"
DOWNLOAD_SECRET="your-download-secret-key-change-in-production"

# Stripe Payments & Connect
# Test keys (sk_test_) for development, Live keys (sk_live_) for production
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"

# Stripe Webhook Secret
# Get from: Stripe Dashboard → Developers → Webhooks → Add endpoint
# Endpoint URL: https://yourdomain.com/api/webhooks/stripe
# Required events:
#   - checkout.session.completed
#   - payment_intent.succeeded
#   - charge.refunded
#   - account.updated (for Connect onboarding)
#   - account.application.deauthorized (for Connect)
#   - capability.updated (for Connect)
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret"

# Cloudflare R2 Storage (Production)
# Leave commented out for local development (uses /download directory)
# R2_ENDPOINT="https://[account-id].r2.cloudflarestorage.com"
# R2_ACCESS_KEY_ID="your-r2-access-key-id"
# R2_SECRET_ACCESS_KEY="your-r2-secret-access-key"
# R2_BUCKET_NAME="sequencehub-files"

# Base URL (for production)
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# Node Environment
NODE_ENV="development"

# Rate Limiting
# Redis URL for distributed rate limiting (optional - uses in-memory if not set)
# REDIS_URL="redis://localhost:6379"

# Rate limit configuration overrides (optional - uses defaults if not set)
# Authentication
# RATE_LIMIT_AUTH_LOGIN_MAX=10
# RATE_LIMIT_AUTH_LOGIN_WINDOW=900
# RATE_LIMIT_AUTH_REGISTER_MAX=5
# RATE_LIMIT_AUTH_REGISTER_WINDOW=3600

# File operations
# RATE_LIMIT_UPLOAD_MAX=10
# RATE_LIMIT_UPLOAD_WINDOW=3600
# RATE_LIMIT_DOWNLOAD_MAX=10
# RATE_LIMIT_DOWNLOAD_WINDOW=86400

# Payment
# RATE_LIMIT_CHECKOUT_MAX=10
# RATE_LIMIT_CHECKOUT_WINDOW=3600

# Creator dashboard
# RATE_LIMIT_PRODUCT_CREATE_MAX=10
# RATE_LIMIT_PRODUCT_CREATE_WINDOW=3600
# RATE_LIMIT_STATS_MAX=60
# RATE_LIMIT_STATS_WINDOW=3600

# Rate limiting settings
# RATE_LIMIT_REDIS_PREFIX="rate_limit:"
# RATE_LIMIT_LOG_VIOLATIONS=true
# RATE_LIMIT_ALERT_THRESHOLD=5
# RATE_LIMIT_DISABLED=false  # Only set to true for testing!
